include:
  - local: /templates/common/scripts.yml

.buildGradle:
  image: $CICD_DEVOPS_PATH/ci-agents/gradle:stable
  tags:
    - $CICD_RUNNER
  services:
    - name: docker:dind
  variables:
    DOCKER_HOST: "tcp://docker:2376"
    DOCKER_TLS_CERTDIR: /certs
    DOCKER_TLS_VERIFY: 1
  before_script:

    # load branch /env specific settings
    - !reference [.plCustomize, script]

    # provide version infos
    - !reference [.versionInfo, script]

.test:
  extends: .buildGradle
